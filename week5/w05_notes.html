<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>WebPortfolio</title>
  <link rel="stylesheet" type="text/css" href="../styles.css">
</head>
<body>
    <span class="tab"></span>
    <h1>Web Portfolio</h1>
    <h2>Week 05 Notes - Testing and Debugging</h2>
    <h3>ERRORS, EXCEPTIONS, & WARNINGS</h3>
        <p>
            Errors, or more commonly referred to as bugs, are a common <br>
            occurence in the life of a software developer. These are <br>
            easily one of the more difficult aspects of design, taking <br>
            several minutes or a couple hours to solve. <br>
            <br>
            They are usually one of the following: <br>
            <ol>
            <li>system error - system or devices have problems</li>
            <li>programmer error - bad syntax or faulty logic (typos) </li>
            <li>user error - bad data entry so program crashes</li>
            </ol>
            <br>
            Be aware that system errors can arise, by minimizing their <br>
            affects (modular design); a program can still be used offline. <br>
            Typos and syntax errors should be fixed promptly. Then for <br>
            user errors the program ought to be user-friendly: having required <br>
            tags in html forms or being specific about what data type is <br>
            required '5' (int) instead of 'five' by using conditionals and <br>
            program feedback (dialogue).<br>
            <br>
            In addition, to conditionals to filter input, exceptions are a great <br>
            way to address bugs in a program. Similar to if statements such <br>
            conditionals are a way to notify the user or the developer where the <br>
            program is breaking or if something is missing.<br>
            <br>
        </p>
        <p>
            <b>Exception examples</b> <br>
            <br>
            unicorn(); <br>
            << ReferenceError: unicorn is not defined <br>
            <br>
            hungry();<br>
            << Error: not enough food is here <br>
            <br>
            add(five, 5); <br>
            << Error: 'five' is not a valid int! <br>
            <br>
            Stack traces are sequences of method calls that lead to <br>
            where the error occured. <br>
            <br>
            <b>Stack Traces examples</b> <br>
            <br>
            << index.html:13 Uncaught ReferenceError: <br> unicorn is not defined <br>
                at three (index.html:13 )<br>
                at two (index.html:17) <br>
                at one (index.html:21) <br>
                at index.html:24 <br>
            <br>
            Warnings show up when there's an error that is not enough to <br>
            crash the program (minor error). Depending on the environment <br>
            the warnings can be different: either small icons or messages <br>
            in the console. <br>
            <br>
            <b>Warning example</b> <br>
            <br>
            pi = 3.142; <br>
            << JavaScript Warning: assignment to undeclared variable <br>
            <br>
        </p>
    <h3>WHY DEBUGGING IS IMPORTANT</h3>
        <p>
            Javascript is a forgiving language, so it'll often fail<br>
            silently in the background (instead of crashing right away).<br>
            This also makes errors longer to track down and more difficult<br>
            to spot when things do go wrong. Rigorous testing required.<br>
        </p>
    <h3>STRICT MODE</h3>
        <p>
            This mode no longer tolerates coding practices that were once<br>
            considered as 'poor style'. This actually improves the speed<br>
            and clarity of how code is written.<br>
        </p>
        <p>
            Strict mode example<br>
            'use strict';<br>
            <br>
            e = 2.718;<br>
            << ReferenceError: e is not defined<br>
        </p>
    <h3>LINTING TOOLS</h3>
        <p>
            JS Lint,JS Hint, and ES Lint can be used to test the quality of JavaScript code.<br>
            These will complain if certain programming styling conventions are not followed<br>
            (indentation, arithmetic operators). They can help with enforcing or following<br>
            a programming style guide. These are either text-editor plugins or online.<br>
        </p>
    <h3>DEBUGGING TOOLS</h3>
        <p>
            These can be used when debugging: alert(), console.log(), & debugger.<br>
            !! Remember to remove any references to 'debugger' command before shipping any code.<br>
            <br>
            <b>I) alert() method -</b> to show a dialog in browser at certain points in the code<br>
            <br>
            function amIOldEnough(age){<br>
                if (age = 12) {<br>
                <span class="tab"></span>alert(age);<br>
                <span class="tab"></span>return 'No, sorry.';<br>
                } else if (age < 18) {<br>
                <span class="tab"></span>return 'Only if you are accompanied by an adult.';<br>
                }<br>
                else {<br>
                <span class="tab"></span>return 'Yep, come on in!';<br>
                }<br>
            }<br>
            <br>
            <b>II) console.log()</b> example<br>
            <br>
            function amIOldEnough(age){<br>
                console.log(age);<br>
                    if (age < 12) {<br>
                    <span class="tab"></span>console.log(`In the if with ${age}`);<br>
                    <span class="tab"></span>return 'No, sorry.';<br>
                    } else if (age < 18) {<br>
                    <span class="tab"></span>console.log(`In the else-if with ${age}`);<br>
                    <span class="tab"></span>return 'Only if you are accompanied by an adult.';<br>
                    } else {<br>
                    <span class="tab"></span>console.log(`In the else with ${age}`);<br>
                    <span class="tab"></span>return 'Yep, come on in!';<br>
                }<br>
            }<br>
            <br>
            <b>III) 'debugger' example</b><br>
            <br>
            function amIOldEnough(age){<br>
                debugger;<br>
                    if (age < 12) {<br>
                    <span class="tab"></span>debugger;<br>
                    <span class="tab"></span>return 'No, sorry.';<br>
                    } else if (age < 18) {<br>
                    <span class="tab"></span>debugger;<br>
                    <span class="tab"></span>return 'Only if you are accompanied by an adult.';<br>
                    } else {<br>
                    <span class="tab"></span>debugger;<br>
                    <span class="tab"></span>return 'Yep, come on in!';<br>
                }<br>
            }<br>
            <br>
            amIOldEnough(16);<br>
        </p>
    <h3>ERROR OBJECTS</h3>
        <p>
            An object can be created in the host-environment.<br>
            <br>
            const error = new Error('Oops, something went wrong');<br>
            <br>
            It has the following properties: name (name of error), message (description<br>
            of the error, & stack (stack trace of error).<br>
            <br>
            More error objects: EvalError (uses eval()), RangeError, ReferenceError,<br>
            SyntaxError, TypeError, URIError, and InternalError.<br>
        </p>
    <h3>THROWING EXCEPTIONS</h3>
        <p>
            You can throw your own error messages.<br>
            <br>
            The throw statement can be applied to any JavaScript expression, causing the<br>
            execution of the program to stop, or halt, immediately<br>
            <br>
            Example of throwing an error message:<br>
            <br>
            throw 2;<br>
            throw 'Up';<br>
            throw { toys: 'out of pram' };<br>
            <br>
            Example throwing an error object (better practice):<br>
            <br>
            throw new Error('Something has gone badly wrong!');<br>
        </p>
    <h3>HANDLING EXCEPTIONS</h3>
        <p>
            Errors can be caught, producing smoother exception handling.<br>
            This is done by using: try,catch, and finally.<br>
            <br>
            function imaginarySquareRoot(number) {<br>
                'use strict';<br>
                let answer;<br>
                try {<br>
                    <span class="tab"></span>answer = String(squareRoot(number));<br>
                } catch(error) {<br>
                    <span class="tab"></span>answer = squareRoot(-number)+"i";<br>
                } finally {<br>
                    <span class="tab"></span>return `+ or - ${answer}`;<br>
                }<br>
            }<br>
        </p>
    <h3>TEST-DRIVEN DEVELOPMENT</h3>
        <p>
            Test-driven development(TDD) is the process of writing tests before any actual code.<br>
            Below there are quite a few steps, ideally you'd run many tests. However, if you<br>
            only can write one or two tests, that's better than no tests. It is also important<br>
            to note that TDD be too cumbersome or even can hurt program designs (Hansson).<br>
            <br>
            Here's its workflow:<br>
            <ol>
                <li>
                    Write tests (that initially fail)
                </li>
                <li>
                    Write code to pass the tests
                </li>
                <li>
                    Refactor the code
                </li>
                <li>
                    Test refactored code
                </li>
                <li>
                    Write more tests for new features
                </li>
            </ol>
            <br>
            Jest is a TDD framework created by Facebook<br>
            <br>
            Install via the terminal:<br>
            npm install -g jest<br>
            <br>
            Verify the installation:<br>
            jest -v<br>
            << v19.0.2<br>
            <br>
            Write a test for your function:<br>
            function squareRoot(number) {<br>
                'use strict';<br>
                if (number < 0) {<br>
                <span class="tab"></span>throw new RangeError("You can't find the square root of negative numbers")<br>
                }<br>
                return Math.sqrt(number);<br>
            };<br>
            <br>
            test('square root of 4 is 2', () => {<br>
            expect(squareRoot(4)).toBe(2);<br>
            });<br>
            <br>
            Navigate to the folder that has filesquareRoot.test.js & run this command:<br>
            jest -c {}<br>
            <br>
            See the Results:<br>
            << PASS  ./squareRoot.test.js<br>
            ✓ square root of 4 is 2 (2ms)<br>
            <br>
            Test Suites: 1 passed, 1 total<br>
            Tests:       1 passed, 1 total<br>
            Snapshots:   0 total<br>
            Time:        2.996s<br>
        </p>
</body>
</html>